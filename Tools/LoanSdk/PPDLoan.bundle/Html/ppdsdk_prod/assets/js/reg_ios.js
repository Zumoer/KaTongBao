function sendRegisterSmsCode(){isLogin=!1;var e=$("#phone").val();Http_post("/auth/registerservice/sendsmsregistercode",'{"Mobile":"'+e+'", "DeviceFP": "'+deviceFP+'"}',"httpSmsCodeCallback"),loadStart()}function loadStart(){var e=$(".loading");e.show()}function loadStop(){var e=$(".loading");e.hide()}function sendLoginSmsCode(){isLogin=!0;var e=$("#phone").val();Http_post("/auth/authservice/sendsmsauthcode",'{"Mobile":"'+e+'", "DeviceFP": "'+deviceFP+'"}',"httpSmsCodeCallback"),loadStart()}function sendSmsCode(){var e=$("#sendCode");e.attr("disabled",!0),window.setTimeout(function(){e.removeAttr("disabled")},1e4);var t=PPD_SDK.phoneVerify();t&&(isLogin?sendLoginSmsCode():sendRegisterSmsCode())}function login(){var e=$("#dxCode").val(),t=$("#phone").val();Http_post("/open/oauthservice/smsauthcodelogin",'{"Mobile":"'+t+'", "DeviceFP": "'+deviceFP+'", "SMSAuthCode":"'+e+'"}',"httpLoginCallback")}function register(){var e=$("#dxCode").val(),t=$("#phone").val();Http_post("/open/registerservice/smscoderegister",'{"Mobile":"'+t+'", "DeviceFP": "'+deviceFP+'", "Code":"'+e+'"}',"httpRegisterCallback")}function submit(){var e=PPD_SDK.phoneVerify();e&&(isLogin?login():register())}var isLogin=!0,deviceFP="",deviceFPCallback=function(){arguments.length>0&&(deviceFP=arguments[0])};DataStorage_get("DeviceFP","deviceFPCallback");var httpSmsCodeCallback=function(e){loadStop();var t=e.ResultCode;0==t?(PPD_SDK.reminderMsg("验证码发送成功"),time()):-2002==t&&"手机号不能为空"!=e.ResultMessage?isLogin?sendRegisterSmsCode():sendLoginSmsCode():PPD_SDK.reminderMsg(e.ResultMessage)},httpLoginCallback=function(e){loadStop();var t=e.ResultCode;0==t?(DataStorage_save("rt",e.RefreshToken),DataStorage_save("et",e.ExpiresIn),DataStorage_save("openid",e.OpenID),DataStorage_save("token",e.AccessToken),Step_next("login:success")):PPD_SDK.reminderMsg(e.ResultMessage)},httpRegisterCallback=function(e){var t=e.ResultCode;0==t?(time(),DataStorage_save("rt",e.RefreshToken),DataStorage_save("et",e.ExpiresIn),DataStorage_save("openid",e.OpenID),DataStorage_save("token",e.AccessToken),Step_next("register:success")):PPD_SDK.reminderMsg(e.ResultMessage)};